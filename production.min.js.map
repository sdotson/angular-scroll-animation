{"version":3,"sources":["app.js"],"names":["scrollController","$scope","$location","slide","$watch","newValue","oldValue","path","config","$routeProvider","when","templateUrl","otherwise","redirectTo","scrollDirective","$window","scope","el","attrs","sections","find","angular","element","bind","windowTop","pageYOffset","i","outerHeight","sectionsLength","length","sectionTop","prop","sectionHeight","sectionBottom","change","$apply","module","controller","directive","$inject"],"mappings":"CAAA,WACA,YAQA,SAAAA,GAAAC,EAAAC,GACAD,EAAAE,MAAA,EAEAF,EAAAG,OAAA,QAAA,SAAAC,EAAAC,GACA,IAAAD,GAAA,KAAAA,GAAA,IAAAA,EACAH,EAAAK,KAAA,UAAAF,GACA,IAAAA,EACAH,EAAAK,KAAA,cAEAL,EAAAK,KAAA,OAMA,QAAAC,GAAAC,GACAA,EACAC,KAAA,KACAC,YAAA,iBACAD,KAAA,mBACAC,YAAA,eACAD,KAAA,cACAC,YAAA,mBACAC,WACAC,WAAA,MAKA,QAAAC,GAAAC,GACA,MAAA,UAAAC,EAAAC,EAAAC,GAEA,GAAAC,GAAAF,EAAAG,KAAA,MAEAC,SAAAC,QAAAP,GAAAQ,KAAA,SAAA,WAMA,IAAA,GAHAC,IADAT,EAAAU,YACAV,EAAAU,aAGAC,GAFAX,EAAAY,YAEA,GAAAC,EAAAT,EAAAU,OAAAD,EAAAF,EAAAA,IAAA,CACA,GAAAI,GAAAT,QAAAC,QAAAH,EAAAO,IAAAK,KAAA,aACAC,EAAAX,QAAAC,QAAAH,EAAAO,IAAAK,KAAA,gBAEAE,EAAAH,EAAAE,CAIA,IAAAR,EAAAM,GAAAG,EAAAT,EAAA,CACA,GACAU,IAAAV,EAAAM,GAAA,CAEAd,GAAAb,MAAAuB,EACAV,EAAAkB,OAAAA,GAKAlB,EAAAmB,YAhEAd,QAAAe,OAAA,SAAA,YAAA,YACAC,WAAA,mBAAArC,GACAQ,OAAAA,GACA8B,UAAA,SAAAxB,GAEAd,EAAAuC,SAAA,SAAA,aAeA/B,EAAA+B,SAAA,kBAcAzB,EAAAyB,SAAA","file":"production.min.js","sourcesContent":["(function() {\n    'use strict';\n\n    angular.module('myApp',['ngAnimate', 'ngRoute'])\n        .controller('scrollController', scrollController)\n        .config(config)\n        .directive('scroll', scrollDirective);\n\n    scrollController.$inject = ['$scope', '$location'];\n    function scrollController($scope, $location) {\n        $scope.slide = 0;\n\n        $scope.$watch(\"slide\", function(newValue, oldValue) {\n            if (newValue !== 0 && newValue !== \"\" && newValue !== 5) {\n                $location.path('/scene/' + newValue);\n            } else if (newValue === 5) {\n                $location.path('/thank-you');\n            } else {\n                $location.path('/');\n            };\n        });\n    }\n\n    config.$inject = ['$routeProvider'];\n    function config($routeProvider) {\n        $routeProvider\n            .when('/', {\n              templateUrl: 'welcome.html',\n        }).when('/scene/:sceneID', {\n              templateUrl: 'scene.html',\n        }).when('/thank-you', {\n              templateUrl: 'thank-you.html',\n        }).otherwise({\n            redirectTo: '/'\n        });\n    }\n\n    scrollDirective.$inject = ['$window'];\n    function scrollDirective($window) {\n        return function(scope, el, attrs) {\n\n            var sections = el.find('div');\n\n            angular.element($window).bind(\"scroll\", function () {\n\n                var offset = $window.pageYOffset,\n                    windowTop = $window.pageYOffset,\n                    windowHeight = $window.outerHeight;\n\n                for (var i = 0, sectionsLength = sections.length; i < sectionsLength; i++) {\n                   var sectionTop = angular.element(sections[i]).prop('offsetTop'),\n                       sectionHeight = angular.element(sections[i]).prop('offsetHeight'),\n                       sectionMidpoint = sectionTop + sectionHeight/2,\n                       sectionBottom = sectionTop + sectionHeight,\n                       windowMidpoint = windowTop + windowHeight/2,\n                       windowBottom = windowTop + windowHeight;\n\n                   if (windowTop > sectionTop && windowTop < sectionBottom) {\n                        var index = i,\n                            change = (windowTop - sectionTop)/(sectionHeight);\n\n                            scope.slide = i;\n                            scope.change = change;\n\n                    };\n                };\n                 \n                scope.$apply();\n            });\n        };\n    };\n\n\n})();\n\n\n\n"],"sourceRoot":"/source/"}