{"version":3,"sources":["app.js"],"names":["scrollController","$scope","$location","slide","$watch","newValue","oldValue","path","config","$routeProvider","when","templateUrl","otherwise","redirectTo","angular","module","controller","directive","$window","scope","el","attrs","sections","find","element","bind","windowTop","pageYOffset","i","outerHeight","sectionsLength","length","sectionTop","prop","sectionHeight","sectionBottom","change","$apply","$inject"],"mappings":"CAAA,WACA,YA6CA,SAAAA,GAAAC,EAAAC,GACAD,EAAAE,MAAA,EAEAF,EAAAG,OAAA,QAAA,SAAAC,EAAAC,GACA,IAAAD,GAAA,KAAAA,GAAA,IAAAA,EACAH,EAAAK,KAAA,UAAAF,GACA,IAAAA,EACAH,EAAAK,KAAA,cAEAL,EAAAK,KAAA,OAMA,QAAAC,GAAAC,GACAA,EACAC,KAAA,KACAC,YAAA,iBACAD,KAAA,mBACAC,YAAA,eACAD,KAAA,cACAC,YAAA,mBACAC,WACAC,WAAA,MAnEAC,QAAAC,OAAA,SAAA,YAAA,YAEAC,WAAA,mBAAAhB,GAEAQ,OAAAA,GAEAS,UAAA,SAAA,SAAAC,GACA,MAAA,UAAAC,EAAAC,EAAAC,GAEA,GAAAC,GAAAF,EAAAG,KAAA,MAEAT,SAAAU,QAAAN,GAAAO,KAAA,SAAA,WAMA,IAAA,GAHAC,IADAR,EAAAS,YACAT,EAAAS,aAGAC,GAFAV,EAAAW,YAEA,GAAAC,EAAAR,EAAAS,OAAAD,EAAAF,EAAAA,IAAA,CACA,GAAAI,GAAAlB,QAAAU,QAAAF,EAAAM,IAAAK,KAAA,aACAC,EAAApB,QAAAU,QAAAF,EAAAM,IAAAK,KAAA,gBAEAE,EAAAH,EAAAE,CAIA,IAAAR,EAAAM,GAAAG,EAAAT,EAAA,CACA,GACAU,IAAAV,EAAAM,GAAA,CAEAb,GAAAhB,MAAAyB,EACAT,EAAAiB,OAAAA,GAKAjB,EAAAkB,cAMArC,EAAAsC,SAAA,SAAA,aAgBA9B,EAAA8B,SAAA","file":"production.min.js","sourcesContent":["(function() {\n    'use strict';\n\n    angular.module('myApp',['ngAnimate', 'ngRoute'])\n\n        .controller('scrollController', scrollController)\n\n        .config(config)\n\n        .directive('scroll', function($window) {\n            return function(scope, el, attrs) {\n\n                var sections = el.find('div');\n\n                angular.element($window).bind(\"scroll\", function () {\n\n                    var offset = $window.pageYOffset,\n                        windowTop = $window.pageYOffset,\n                        windowHeight = $window.outerHeight;\n\n                    for (var i = 0, sectionsLength = sections.length; i < sectionsLength; i++) {\n                       var sectionTop = angular.element(sections[i]).prop('offsetTop'),\n                           sectionHeight = angular.element(sections[i]).prop('offsetHeight'),\n                           sectionMidpoint = sectionTop + sectionHeight/2,\n                           sectionBottom = sectionTop + sectionHeight,\n                           windowMidpoint = windowTop + windowHeight/2,\n                           windowBottom = windowTop + windowHeight;\n\n                       if (windowTop > sectionTop && windowTop < sectionBottom) {\n                            var index = i,\n                                change = (windowTop - sectionTop)/(sectionHeight);\n\n                                scope.slide = i;\n                                scope.change = change;\n\n                        };\n                    };\n                     \n                    scope.$apply();\n                });\n            };\n        });\n\n\n    scrollController.$inject = ['$scope', '$location'];\n\n    function scrollController($scope, $location) {\n        $scope.slide = 0;\n\n        $scope.$watch(\"slide\", function(newValue, oldValue) {\n            if (newValue !== 0 && newValue !== \"\" && newValue !== 5) {\n                $location.path('/scene/' + newValue);\n            } else if (newValue === 5) {\n                $location.path('/thank-you');\n            } else {\n                $location.path('/');\n            };\n        });\n    }\n\n    config.$inject = ['$routeProvider'];\n    function config($routeProvider) {\n        $routeProvider\n            .when('/', {\n              templateUrl: 'welcome.html',\n        }).when('/scene/:sceneID', {\n              templateUrl: 'scene.html',\n        }).when('/thank-you', {\n              templateUrl: 'thank-you.html',\n        }).otherwise({\n            redirectTo: '/'\n        });\n    }\n\n})();\n\n\n\n"],"sourceRoot":"/source/"}